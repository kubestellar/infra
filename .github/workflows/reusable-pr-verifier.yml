name: Reusable PR Verifier

on:
  workflow_call:

jobs:
  verify-pr:
    name: verify PR contents
    # Skip verification for dependabot PRs - they use different title conventions
    if: github.actor != 'dependabot[bot]'
    permissions:
      checks: write
      pull-requests: read
    runs-on: ubuntu-latest
    steps:
      - name: Verifier action
        id: verifier
        uses: kubernetes-sigs/kubebuilder-release-tools@012269a88fa4c034a0acf1ba84c26b195c0dbab4 # v0.4.3
        continue-on-error: true
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
